## Autogenerated by Scribe. DO NOT MODIFY.

name: Images
description: |-

  Endpoints for uploading, listing, viewing, and deleting images.
  All endpoints require authentication. Users can only manage their own images.
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: api/images/upload-url
    metadata:
      custom: []
      groupName: Images
      groupDescription: |-

        Endpoints for uploading, listing, viewing, and deleting images.
        All endpoints require authentication. Users can only manage their own images.
      subgroup: ''
      subgroupDescription: ''
      title: 'Get Upload URL'
      description: |-
        Get a pre-signed S3 URL for direct file upload. The client should PUT the file
        directly to the returned URL, then call the confirm endpoint with the file_key.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      filename:
        custom: []
        name: filename
        description: 'Original filename.'
        required: true
        example: photo.jpg
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      mime_type:
        custom: []
        name: mime_type
        description: 'MIME type. Must be image/jpeg or image/png.'
        required: true
        example: image/jpeg
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      filename: photo.jpg
      mime_type: image/jpeg
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: '{"upload_url":"https://s3.example.com/uploads/1/uuid.jpg?X-Amz-Signature=...","file_key":"uploads/1/uuid.jpg"}'
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 422
        content: '{"message":"The mime type field must be one of: image/jpeg, image/png.","errors":{"mime_type":["The mime type field must be one of: image/jpeg, image/png."]}}'
        headers: []
        description: 'Validation error'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/images/confirm
    metadata:
      custom: []
      groupName: Images
      groupDescription: |-

        Endpoints for uploading, listing, viewing, and deleting images.
        All endpoints require authentication. Users can only manage their own images.
      subgroup: ''
      subgroupDescription: ''
      title: 'Confirm Upload'
      description: |-
        Confirm that a file has been uploaded to S3. This validates the file,
        creates the database record, and dispatches background processing (WebP compression).
        Duplicate files (same content) return the existing image.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      file_key:
        custom: []
        name: file_key
        description: 'S3 file key returned from upload-url endpoint.'
        required: true
        example: uploads/1/550e8400-e29b-41d4-a716-446655440000.jpg
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      file_key: uploads/1/550e8400-e29b-41d4-a716-446655440000.jpg
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: '{"id":1,"original_filename":"uuid.jpg","mime_type":"image/jpeg","file_size":204800,"width":null,"height":null,"url":null,"status":"pending","created_at":"2026-02-28T10:00:00.000000Z"}'
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 422
        content: '{"message":"The given data was invalid.","errors":{"file_key":["File not found on storage."]}}'
        headers: []
        description: 'File not found'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/images
    metadata:
      custom: []
      groupName: Images
      groupDescription: |-

        Endpoints for uploading, listing, viewing, and deleting images.
        All endpoints require authentication. Users can only manage their own images.
      subgroup: ''
      subgroupDescription: ''
      title: 'List Images'
      description: "Get a paginated list of the authenticated user's images (20 per page, newest first)."
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      page:
        custom: []
        name: page
        description: 'The page number.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      page: 1
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: '{"data":[{"id":1,"original_filename":"photo.jpg","mime_type":"image/webp","file_size":204800,"width":1920,"height":1080,"url":"https://s3.example.com/images/1/abc123.webp?signature=...","status":"ready","created_at":"2026-02-28T10:00:00.000000Z"}],"current_page":1,"last_page":1,"per_page":20,"total":1}'
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers: []
        description: Unauthenticated
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/images/{image_id}'
    metadata:
      custom: []
      groupName: Images
      groupDescription: |-

        Endpoints for uploading, listing, viewing, and deleting images.
        All endpoints require authentication. Users can only manage their own images.
      subgroup: ''
      subgroupDescription: ''
      title: 'Show Image'
      description: 'Get details and a signed URL for a specific image owned by the authenticated user.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      image_id:
        custom: []
        name: image_id
        description: 'The ID of the image.'
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      image:
        custom: []
        name: image
        description: 'The image ID.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      image_id: 16
      image: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: '{"id":1,"original_filename":"photo.jpg","mime_type":"image/webp","file_size":204800,"width":1920,"height":1080,"url":"https://s3.example.com/images/1/abc123.webp?signature=...","status":"ready","created_at":"2026-02-28T10:00:00.000000Z"}'
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 403
        content: '{"message":"Forbidden"}'
        headers: []
        description: Forbidden
      -
        custom: []
        status: 404
        content: '{"message":"No query results for model [App\\Models\\Image] 99999"}'
        headers: []
        description: 'Not found'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/images/{image_id}'
    metadata:
      custom: []
      groupName: Images
      groupDescription: |-

        Endpoints for uploading, listing, viewing, and deleting images.
        All endpoints require authentication. Users can only manage their own images.
      subgroup: ''
      subgroupDescription: ''
      title: 'Delete Image'
      description: 'Delete an image owned by the authenticated user. Removes both the database record and the S3 file.'
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      image_id:
        custom: []
        name: image_id
        description: 'The ID of the image.'
        required: true
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      image:
        custom: []
        name: image
        description: 'The image ID.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanUrlParameters:
      image_id: 16
      image: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: '{"message":"Image deleted successfully"}'
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers: []
        description: Unauthenticated
      -
        custom: []
        status: 403
        content: '{"message":"Forbidden"}'
        headers: []
        description: Forbidden
      -
        custom: []
        status: 404
        content: '{"message":"No query results for model [App\\Models\\Image] 99999"}'
        headers: []
        description: 'Not found'
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
